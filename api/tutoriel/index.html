<!DOCTYPE html>
<html lang="fr">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>

    <title>Tutoriel</title>
    <meta name="description" content="Tutoriel" />

    <link rel="stylesheet" type="text/css" media="screen,projection" href="https://doc.data.gouv.fr/assets/css/template.css">
    <link rel="stylesheet" type="text/css" media="screen,projection" href="https://doc.data.gouv.fr/assets/css/main.css">
    <link rel="canonical" href="https://doc.data.gouv.fr/rudi_documentation/api/tutoriel/" />
    <link rel="alternate" type="application/rss+xml" title="data.gouv.fr - documentation" href="/rudi_documentation/feed.xml" />
</head>


  <body>
    <svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs>
        <symbol id="icon-search">
          <title>search</title>
          <path d="M15.504 13.616l-3.79-3.223c-0.392-0.353-0.811-0.514-1.149-0.499 0.895-1.048 1.435-2.407 1.435-3.893 0-3.314-2.686-6-6-6s-6 2.686-6 6 2.686 6 6 6c1.486 0 2.845-0.54 3.893-1.435-0.016 0.338 0.146 0.757 0.499 1.149l3.223 3.79c0.552 0.613 1.453 0.665 2.003 0.115s0.498-1.452-0.115-2.003zM6 10c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z"></path>
        </symbol>

        <symbol id="icon-mail">
          <title>mail</title>
          <path d="M29,4l-26,0c-1.65,0 -3,1.35 -3,3l0,20c0,1.65 1.35,3 3,3l26,0c1.65,0 3,-1.35 3,-3l0,-20c0,-1.65 -1.35,-3 -3,-3Zm-16.539,13.199l-8.461,6.59l0,-15.676l8.461,9.086Zm-6.949,-9.199l20.976,0l-10.488,7.875l-10.488,-7.875l0,0Zm7.278,9.553l3.21,3.447l3.21,-3.447l6.58,8.447l-19.579,0l6.58,-8.447l-0.001,0Zm6.749,-0.354l8.461,-9.086l0,15.676l-8.461,-6.59Z"/>
        </symbol>

        <symbol id="icon-fb">
          <title>facebook</title>
          <path d="M29,0l-26,0c-1.65,0 -3,1.35 -3,3l0,26c0,1.65 1.35,3 3,3l13,0l0,-14l-4,0l0,-4l4,0l0,-2c0,-3.306 2.694,-6 6,-6l4,0l0,4l-4,0c-1.1,0 -2,0.9 -2,2l0,2l6,0l-1,4l-5,0l0,14l9,0c1.65,0 3,-1.35 3,-3l0,-26c0,-1.65 -1.35,-3 -3,-3Z"/>
        </symbol>

        <symbol id="icon-github">
          <title>github</title>
          <path d="M16,0.395c-8.836,0 -16,7.163 -16,16c0,7.069 4.585,13.067 10.942,15.182c0.8,0.148 1.094,-0.347 1.094,-0.77c0,-0.381 -0.015,-1.642 -0.022,-2.979c-4.452,0.968 -5.391,-1.888 -5.391,-1.888c-0.728,-1.849 -1.776,-2.341 -1.776,-2.341c-1.452,-0.993 0.11,-0.973 0.11,-0.973c1.606,0.113 2.452,1.649 2.452,1.649c1.427,2.446 3.743,1.739 4.656,1.33c0.143,-1.034 0.558,-1.74 1.016,-2.14c-3.554,-0.404 -7.29,-1.777 -7.29,-7.907c0,-1.747 0.625,-3.174 1.649,-4.295c-0.166,-0.403 -0.714,-2.03 0.155,-4.234c0,0 1.344,-0.43 4.401,1.64c1.276,-0.355 2.645,-0.532 4.005,-0.539c1.359,0.006 2.729,0.184 4.008,0.539c3.054,-2.07 4.395,-1.64 4.395,-1.64c0.871,2.204 0.323,3.831 0.157,4.234c1.026,1.12 1.647,2.548 1.647,4.295c0,6.145 -3.743,7.498 -7.306,7.895c0.574,0.497 1.085,1.47 1.085,2.963c0,2.141 -0.019,3.864 -0.019,4.391c0,0.426 0.288,0.925 1.099,0.768c6.354,-2.118 10.933,-8.113 10.933,-15.18c0,-8.837 -7.164,-16 -16,-16l0,0Z"/>
        </symbol>

        <symbol id="icon-rss">
          <title>rss</title>
          <path d="M29,0l-26,0c-1.65,0 -3,1.35 -3,3l0,26c0,1.65 1.35,3 3,3l26,0c1.65,0 3,-1.35 3,-3l0,-26c0,-1.65 -1.35,-3 -3,-3Zm-20.281,25.975c-1.5,0 -2.719,-1.206 -2.719,-2.706c0,-1.488 1.219,-2.712 2.719,-2.712c1.506,0 2.719,1.225 2.719,2.712c0,1.5 -1.219,2.706 -2.719,2.706Zm6.825,0.025c0,-2.556 -0.994,-4.962 -2.794,-6.762c-1.806,-1.806 -4.2,-2.8 -6.75,-2.8l0,-3.912c7.425,0 13.475,6.044 13.475,13.475l-3.931,0l0,-0.001Zm6.944,0c0,-9.094 -7.394,-16.5 -16.481,-16.5l0,-3.912c11.25,0 20.406,9.162 20.406,20.413l-3.925,0l0,-0.001Z"/>
        </symbol>

        <symbol id="icon-rss">
          <title>rss</title>
          <path id="Checked-Icon" d="M13.23,0.307l-8.118,8.197l-3.345,-3.384c-0.405,-0.408 -1.06,-0.408 -1.464,0c-0.404,0.408 -0.404,1.071 0,1.479l4.055,4.101c0.208,0.21 0.481,0.31 0.754,0.305c0.272,0.005 0.545,-0.095 0.753,-0.305l8.829,-8.915c0.404,-0.408 0.404,-1.07 0,-1.478c-0.404,-0.409 -1.06,-0.409 -1.464,0Z"/>
        </symbol>

        <symbol id="icon-twitter">
          <title>twitter</title>
          <path d="M32,7.075c-1.175,0.525 -2.444,0.875 -3.769,1.031c1.356,-0.813 2.394,-2.1 2.887,-3.631c-1.269,0.75 -2.675,1.3 -4.169,1.594c-1.2,-1.275 -2.906,-2.069 -4.794,-2.069c-3.625,0 -6.563,2.938 -6.563,6.563c0,0.512 0.056,1.012 0.169,1.494c-5.456,-0.275 -10.294,-2.888 -13.531,-6.862c-0.563,0.969 -0.887,2.1 -0.887,3.3c0,2.275 1.156,4.287 2.919,5.463c-1.075,-0.031 -2.087,-0.331 -2.975,-0.819c0,0.025 0,0.056 0,0.081c0,3.181 2.263,5.838 5.269,6.437c-0.55,0.15 -1.131,0.231 -1.731,0.231c-0.425,0 -0.831,-0.044 -1.237,-0.119c0.838,2.606 3.263,4.506 6.131,4.563c-2.25,1.762 -5.075,2.813 -8.156,2.813c-0.531,0 -1.05,-0.031 -1.569,-0.094c2.913,1.869 6.362,2.95 10.069,2.95c12.075,0 18.681,-10.006 18.681,-18.681c0,-0.287 -0.006,-0.569 -0.019,-0.85c1.281,-0.919 2.394,-2.075 3.275,-3.394l0,-0.001Z"/>
        </symbol>

        <symbol id="icon-googleplus">
          <title>google +</title>
          <path d="M29 0H3C1.35 0 0 1.35 0 3v26c0 1.65 1.35 3 3 3h26c1.65 0 3-1.35 3-3V3c0-1.65-1.35-3-3-3zM12 24c-4.425 0-8-3.575-8-8s3.575-8 8-8c2.162 0 3.969.787 5.363 2.094l-2.175 2.088c-.594-.569-1.631-1.231-3.188-1.231-2.731 0-4.963 2.263-4.963 5.05s2.231 5.05 4.963 5.05c3.169 0 4.356-2.275 4.538-3.45h-4.537v-2.744h7.556c.069.4.125.8.125 1.325 0 4.575-3.063 7.819-7.681 7.819L12 24zm16-8h-2v2h-2v-2h-2v-2h2v-2h2v2h2v2z" fill="#fff" fill-rule="nonzero"/>
        </symbol>

        <symbol id="icon-cross">
            <title>cross</title>
            <path d="M10 0c5.519 0 10 4.481 10 10s-4.481 10-10 10S0 15.519 0 10 4.481 0 10 0zm3.975 7.56a4.673 4.673 0 0 0-1.535-1.535L10 8.465l-2.44-2.44A4.673 4.673 0 0 0 6.025 7.56L8.465 10l-2.44 2.44c.384.625.91 1.151 1.535 1.535l2.44-2.44 2.44 2.44a4.673 4.673 0 0 0 1.535-1.535L11.535 10l2.44-2.44z"/>
        </symbol>

        <symbol id="icon-link" viewBox="0 0 512 512">
            <title>link</title>
            <path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/>
        </symbol>
      </defs>
    </svg>
      
<header class="navbar">
  <div class="navbar__container">
    <a class="navbar__home" href="/rudi_documentation/">
      <img class="navbar__logo" src="/rudi_documentation/assets/images/logo-marianne.svg"
        alt="data.gouv.fr - documentation" /><span class="navbar__domain">doc</span><img src="/assets/images/pointdatagouvfr.svg" class="navbar__gouvfr" alt="gouv.fr" />
    </a>
    
    <nav>
      <ul class="nav__links">
        
      </ul>
    </nav>
  </div>
</header>

    <div class="hero">
  <div class="hero__container">
    <h1 class="hero__title">data.gouv.fr - documentation</h1>
  </div>
</div>

<section class="documentation">
  <nav class="side-pane" role="navigation">
  <div class="return-datagouvfr">
      <a href="https://www.data.gouv.fr">Revenir sur data.gouv.fr</a>
  </div>
  <div class="search-input-wrapper">
    <input type="text" id="search-input" placeholder="Recherche">
  </div>
  <ul class="side-pane__menu">
    
    
        
        <a></a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            </ul>
        </li>
        
    
        
        <a>À propos</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/a-propos/differences-utilisateur-organisatoion/">Différences entre un utilisateur et une organisation</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/a-propos/que-publier-et-comment-le-publier/">Que publier et comment le publier</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/a-propos/signaler-un-contenu/">Signaler un contenu</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Gestion du compte</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/gestion-du-compte/creer-un-compte/">Créer un compte</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/gestion-du-compte/supprimer-un-compte/">Supprimer un compte</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/gestion-du-compte/voir-ou-modifier-votre-compte/">Voir ou modifier votre compte</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Jeux de données</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/jeux-de-donnees/demander-a-datagouvfr-de-moisonner-votre-site/">Demander à data.gouv.fr de moissonner votre site</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/jeux-de-donnees/difference-jeu-de-donnees-et-ressource/">Différences entre un jeu de données et une ressource</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/jeux-de-donnees/faire-une-recherche/">Faire une recherche</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/jeux-de-donnees/integrer-des-donnees/">Intégrer un jeu de données sur des sites web</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/jeux-de-donnees/mettre-a-jour-un-jeu-de-donnees-ou-une-ressource/">Mettre à jour un jeu de données ou une ressource</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/jeux-de-donnees/publier-un-jeu-de-donnees/">Publier un jeu de données</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/jeux-de-donnees/supprimer-un-jeu-de-donnees/">Supprimer un jeu de données ou une ressource</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/jeux-de-donnees/telecharger-une-ressource/">Télécharger une ressource</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/jeux-de-donnees/transferer-un-jeu-de-donnees/">Transférer un jeu de données</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Organisation</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/organisations/ajouter-un-utilisateur-a-une-organisation/">Ajouter un utilisateur à une organisation</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/organisations/certifier-une-organisation/">Certifier une organisation</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/organisations/creer-une-organisation/">Créer une organisation</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/organisations/demander-a-rejoindre-une-organisation/">Demander à rejoindre une organisation</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/organisations/differences-administrateur-editeur-organisation/">Différences entre administrateur et éditeur d’une organisation</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/organisations/retirer-un-utilisateur-d-une-organisation/">Retirer un utilisateur d’une organisation</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/organisations/supprimer-une-organisation/">Supprimer une organisation</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Réutilisations et discussions</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/reutilisations-et-discussions/associer-une-reutilisation-a-un-jeu-de-donnees/">Associer une réutilisation à un jeu de données</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/reutilisations-et-discussions/moderer-une-discussion/">Modérer une discussion</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/reutilisations-et-discussions/modifier-ou-supprimer-une-reutilisation/">Modifier ou supprimer une réutilisation</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/reutilisations-et-discussions/ouvrir-une-discussion/">Ouvrir une discussion</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Moissonnage</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/moissonnage/intro/">Introduction</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/moissonnage/dcat/">DCAT</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/moissonnage/ckan/">CKAN</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/moissonnage/ods/">Opendatasoft</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/moissonnage/licences/">Licences</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>Commande publique</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/commande-publique/publier-donnees-essentielles-d-attribution/">Publier les données essentielles d&#39;attribution des marchés</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/commande-publique/publier-profil-acheteur-public/">Publier un profil d’acheteur public</a>
            </li>
            
            </ul>
        </li>
        
    
        
        <a>API</a>
        
        <li class="side-pane__dropdown unfolded">
            <ul class="side-pane__submenu">
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/api/intro/">Introduction</a>
            </li>
            
            <li class="active">
                <a class="side-pane__link" href="/rudi_documentation/api/tutoriel/">Tutoriel</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/api/dataset-workflow/">Gestion d’un jeu de données</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/api/reference/">Référence</a>
            </li>
            
            <li >
                <a class="side-pane__link" href="/rudi_documentation/api/telecharger-un-catalogue-de-donnees/">Télécharger un catalogue de données</a>
            </li>
            
            </ul>
        </li>
        
    
  </ul>
</nav>

  <div class="search-results">
    <h2>Resultats de recherche pour "<span id="search-query"></span>"</h2>
    <div id="search-results-container"></div>
  </div>
  <div class="main-pane">
    <div class="markdown">
      <h1 id="tutoriel">Tutoriel</h1>

<p>Tous les exemples utilisent <a href="http://httpie.org/">httpie</a> et <a href="http://stedolan.github.io/jq/">jq</a> pour faciliter la lisibilité. Vous n’êtes pas contraint d’utiliser ces bibliothèques pour votre code, ce sont juste des outils pour mieux comprendre l’API.</p>

<h2 id="vérifier-que-httpie-fonctionne">Vérifier que httpie fonctionne</h2>

<p>Une fois httpie installé, vous pouvez vérifier qu’il fonctionne comme convenu en tapant cette commande dans votre terminal :</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http <span class="s1">'https://www.data.gouv.fr/api/1/organizations/?page_size=1'</span>
</code></pre></div></div>

<p>Cela doit retourner une réponse de ce style :</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP/</span><span class="mf">1.1</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="err">Access-Control-Allow-Credentials:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="err">...</span><span class="w"> </span><span class="err">LOTS</span><span class="w"> </span><span class="err">OF</span><span class="w"> </span><span class="err">HEADERS</span><span class="w"> </span><span class="err">...</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">

            </span><span class="err">...</span><span class="w"> </span><span class="err">LOTS</span><span class="w"> </span><span class="err">OF</span><span class="w"> </span><span class="err">DATA</span><span class="w"> </span><span class="err">...</span><span class="w">

            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mairie de toulon"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.data.gouv.fr/organizations/mairie-de-toulon/"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mairie-de-toulon"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.data.gouv.fr/api/1/organizations/5ba0b9f5634f4150f31579dd/"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://toulon.fr/"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.data.gouv.fr/api/1/organizations/?page=2&amp;page_size=1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>C’est très verbeux et nous n’avons pas besoin de toute cette information pour l’instant. C’est la raison pour laquelle nous utilisons jq.</p>

<h2 id="vérifier-que-jq-fonctionne">Vérifier que jq fonctionne</h2>

<p>Une fois jq installé, vous pouvez vérifier qu’il fonctionne en tapant cette commande dans votre terminal :</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http <span class="s1">'https://www.data.gouv.fr/api/1/organizations/?page_size=1'</span> | jq <span class="s1">'.data[].name'</span>
</code></pre></div></div>

<p>Cela doit retourner une réponse de ce style :</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"mairie de toulon"</span><span class="w">
</span></code></pre></div></div>

<p>C’est bien mieux ! Maintenant que tout fonctionne bien, réduisons un peu la taille de notre ligne de commande :</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">export </span><span class="nv">API</span><span class="o">=</span><span class="s2">"https://www.data.gouv.fr/api/1/"</span>
</code></pre></div></div>

<p>La commande précédente est maintenant équivalente à la commande plus lisible (ne pas oublier les apostrophes) :</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http <span class="nv">$API</span><span class="s1">'organizations/?page_size=1'</span> | jq <span class="s1">'.data[].name'</span>
</code></pre></div></div>

<p>C’est un bon début, maintenant plongeons dans l’API en elle-même. Nous ne le savons pas encore mais nous avons déjà récupéré notre première organisation.</p>

<h2 id="parcourir-et-récupérer-des-données">Parcourir et récupérer des données</h2>

<p>Vous pouvez récupérer une liste d’organisations (filtrée ou non) ou une organisation unitaire. Lorsque vous récupérez un point d’accès, le nombre d’éléments par page par défaut est de 20. Récupérons les 20 premières organisations via l’API :</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http <span class="nv">$API</span><span class="s1">'organizations/'</span> | jq <span class="s1">'.data[].name'</span>
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"mairie de toulon"</span><span class="w">
</span><span class="s2">"SMIC DES VOSGES"</span><span class="w">
</span><span class="s2">"Mairie de Vif"</span><span class="w">
</span><span class="s2">"Kammoun nassib"</span><span class="w">
</span><span class="s2">"Communauté urbaine de Caen la mer"</span><span class="w">
</span><span class="s2">"Reno Inc"</span><span class="w">
</span><span class="s2">"BEAUTEBOUTIQUE"</span><span class="w">
</span><span class="s2">"Blue Soft"</span><span class="w">
</span><span class="s2">"Syndicat de collecte et de traitement des déchets ménagers de l'Aude"</span><span class="w">
</span><span class="s2">"Et voilà !"</span><span class="w">
</span></code></pre></div></div>

<p>C’est une bonne chose d’avoir cette liste mais que se passe-t-il si nous souhaitons parcourir les organisations retournées ? Récupérons les 5 premières URI d’organisations.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http <span class="nv">$API</span><span class="s1">'organizations/?page_size=5'</span> | jq <span class="s1">'.data[].uri'</span>
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"https://www.data.gouv.fr/api/1/organizations/5ba0b9f5634f4150f31579dd/"</span><span class="w">
</span><span class="s2">"https://www.data.gouv.fr/api/1/organizations/5b9fbf32634f4128317ef388/"</span><span class="w">
</span><span class="s2">"https://www.data.gouv.fr/api/1/organizations/5b9b657a634f412c7f5c939b/"</span><span class="w">
</span><span class="s2">"https://www.data.gouv.fr/api/1/organizations/5b9ad48e634f413f7e0f3512/"</span><span class="w">
</span><span class="s2">"https://www.data.gouv.fr/api/1/organizations/5b9a00938b4c41453e8a406b/"</span><span class="w">
</span></code></pre></div></div>

<p>Maintenant, nous sommes capables de récupérer une organisation seulement via l’URI retournée.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http <span class="nv">$API</span><span class="s1">'organizations/5ba0b9f5634f4150f31579dd/'</span> | jq <span class="s1">'.'</span>
</code></pre></div></div>

<p>Cela fait beaucoup de données à parcourir. Affinons ces données, si nous voulons seulement extraire les métriques :</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http <span class="nv">$API</span><span class="s1">'organizations/5ba0b9f5634f4150f31579dd/'</span> | jq <span class="s1">'.metrics'</span>
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"datasets"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"members"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"views"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"permitted_reuses"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reuses"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataset_views"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reuse_views"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"followers"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"resource_downloads"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Ou peut-être juste le nom des membres de cette organisation :</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http <span class="nv">$API</span><span class="s1">'organizations/5ba0b9f5634f4150f31579dd/'</span> | jq <span class="s1">'.members[].user.last_name'</span>
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"VOIRIN"</span><span class="w">
</span></code></pre></div></div>

<p>Il est vraiment de votre ressort de récupérer les données pertinentes pour votre projet. N’hésitez pas à consulter le <a href="http://stedolan.github.io/jq/tutorial/">tutoriel de jq</a> et <a href="http://stedolan.github.io/jq/manual/">son manuel</a> si vous voulez parcourir l’API via la ligne de commande plus en détail.</p>

<h2 id="modifier-et-supprimer-des-données">Modifier et supprimer des données</h2>

<p>Attention, vous entrez dans une zone de danger. Les modifications et suppressions de données via l’API sont définitives et nous ne proposons pas de bac à sable pour faire des tests avant de les exécuter (pour l’instant). Soyez conscient de ces responsabilités avant d’utiliser vos super pouvoirs.</p>

<p>Si vous tentez de modifier une ressource sans le token d’authentification, une erreur 401 sera renvoyée :</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http PUT <span class="nv">$API</span><span class="s1">'organizations/organization-uri-x/'</span>
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP/</span><span class="mf">1.1</span><span class="w"> </span><span class="mi">401</span><span class="w"> </span><span class="err">UNAUTHORIZED</span><span class="w">
</span><span class="err">...</span><span class="w"> </span><span class="err">LOTS</span><span class="w"> </span><span class="err">OF</span><span class="w"> </span><span class="err">HEADERS</span><span class="w"> </span><span class="err">...</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unauthorized"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">401</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Vous devez spécifier votre Clé d’API (voir ci-dessus) et utiliser le header HTTP <code class="language-plaintext highlighter-rouge">X-API-KEY</code>. Si vous tentez de modifier une ressource que vous ne contrôlez pas, une erreur 400 sera retournée :</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http PUT <span class="nv">$API</span><span class="s1">'organizations/organization-uri-x/'</span> X-API-KEY:your.api.key.here
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP/</span><span class="mf">1.1</span><span class="w"> </span><span class="mi">401</span><span class="w"> </span><span class="err">UNAUTHORIZED</span><span class="w">
</span><span class="err">...</span><span class="w"> </span><span class="err">LOTS</span><span class="w"> </span><span class="err">OF</span><span class="w"> </span><span class="err">HEADERS</span><span class="w"> </span><span class="err">...</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid API Key"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">401</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>C’est le message que vous obtiendrez si vous avez spécifié une mauvaise clé d’API. C’est un autre message d’erreur potentiel que vous pouvez rencontrer.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP/</span><span class="mf">1.1</span><span class="w"> </span><span class="mi">403</span><span class="w"> </span><span class="err">FORBIDDEN</span><span class="w">
</span><span class="err">...</span><span class="w"> </span><span class="err">LOTS</span><span class="w"> </span><span class="err">OF</span><span class="w"> </span><span class="err">HEADERS</span><span class="w"> </span><span class="err">...</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You do not have the permission to modify that object."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Cela arrive si vous essayez d’accéder à une ressource que vous ne pouvez éditer avec vos accréditations. Si votre clé est valide vous devriez obtenir quelque chose comme ça:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP/</span><span class="mf">1.1</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="err">...</span><span class="w"> </span><span class="err">LOTS</span><span class="w"> </span><span class="err">OF</span><span class="w"> </span><span class="err">HEADERS</span><span class="w"> </span><span class="err">...</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Mais ça ne change pas tout ! C’est parfaitement normal, nous avons oublié de spécifier la bonne donnée à envoyer au serveur.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http PUT <span class="nv">$API</span><span class="s1">'organizations/organization-uri-x/'</span> <span class="se">\</span>
<span class="go">    X-API-KEY:your.api.key.here \
    name="Lorem ipsum" \
    description="The quick brown fox jumps over the lazy dog." \
    | jq '{name: .name, description: .description}'
</span></code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lorem ipsum"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The quick brown fox jumps over the lazy dog."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>La ressource a été modifiée avec vos nouvelles valeurs. Finalement, vous pouvez supprimer une ressource avec le verbe HTTP approprié (attention, aucun retour arrière n’est possible en utilisant l’API pour le moment):</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http DELETE <span class="nv">$API</span><span class="s1">'organizations/organization-uri-x/'</span> X-API-KEY:your.api.key.here
</code></pre></div></div>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.0</span> <span class="m">204</span> <span class="ne">NO CONTENT</span>
<span class="s">... LOTS OF HEADERS ...</span>
</code></pre></div></div>

<p>Une fois effectué, vous pouvez vérifier que c’est effectif en envoyant un GET sur l’URL précédente:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>http GET <span class="nv">$API</span><span class="s1">'organizations/organization-uri-x/'</span>
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP/</span><span class="mf">1.0</span><span class="w"> </span><span class="mi">410</span><span class="w"> </span><span class="err">GONE</span><span class="w">
</span><span class="err">...</span><span class="w"> </span><span class="err">LOTS</span><span class="w"> </span><span class="err">OF</span><span class="w"> </span><span class="err">HEADERS</span><span class="w"> </span><span class="err">...</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organization has been deleted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">410</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Consultez la <a href="/rudi_documentation/api/reference/">documentation de référence</a> pour d’autres intéractions avec l’API ou posez-nous vos questions sur le sujet !</p>

      
      <p class="edit text-center">
          <a class="button" href="https://github.com/etalab/doc.data.gouv.fr/edit/master/articles/_api/tutoriel.md">
              ✎ Editer cette page
          </a>
      </p>
    </div>
  </div>
</section>

    <footer class="footer">
  <div class="container">
    <div class="footer__logo">
      <img src="/assets/images/etalab.svg" alt="Etalab">
      
      <ul class="footer__social">
        
        <li><a href="mailto:info@data.gouv.fr"><svg class="icon icon-mail"><use xlink:href="#icon-mail"></use></svg></a></li>
        
        <li><a href="https://www.twitter.com/datagouvfr"><svg class="icon icon-twitter"><use xlink:href="#icon-twitter"></use></svg></a></li>
        
        <li><a href="https://www.facebook.com/etalab"><svg class="icon icon-fb"><use xlink:href="#icon-fb"></use></svg></a></li>
        
        <li><a href="https://www.github.com/etalab"><svg class="icon icon-github"><use xlink:href="#icon-github"></use></svg></a></li>
        
        <li><a href="https://www.data.gouv.fr/fr/datasets/recent.atom"><svg class="icon icon-rss"><use xlink:href="#icon-rss"></use></svg></a></li>
        
      </ul>
      
    </div>
    
    <div class="footer__links">
      
      <h2>doc.data.gouv.fr</h2>
      
      <ul>
        
          
            <li><a href="https://www.data.gouv.fr/">data.gouv.fr</a></li>
          
        
          
            <li><a href="https://www.data.gouv.fr/reference">Données de référence</a></li>
          
        
          
            <li><a href="https://www.data.gouv.fr/terms">Condition générales d’utilisation</a></li>
          
        
          
            <li><a href="https://support.data.gouv.fr/">Contact</a></li>
          
        
      </ul>
    </div>
    
    <div></div>
  </div>
</footer>


    <!-- Scripts -->
<script src="/assets/simple-jekyll-search.min.js"></script>
<script async defer src="/assets/main.js"></script>


  </body>

</html>
